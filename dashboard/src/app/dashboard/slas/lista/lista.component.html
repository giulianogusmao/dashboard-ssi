<div class="mb-5">
  <div class="row">
    <div class="col-sm-12">

      <form class="input-group no-border" [formGroup]="form" (ngSubmit)="buscar()">
        <span class="input-group-btn">
          <select tooltip="Pesquisar por coluna" formControlName="coluna">
            <option value="" selected>Todos</option>
            <option *ngFor="let column of columns" [value]="column.value">{{ column?.label }}</option>
          </select>
        </span>

        <input type="text" placeholder="Pesquisar SLAs" class="form-control" formControlName="buscar">

        <span class="input-group-btn">
          <button class="btn btn-telefonica btn-default btn-fechar" type="button" aria-label="Limpar Busca" tooltip="Limpar Busca"
            (click)="reset()" *ngIf="form.get('buscar').value">
            <span aria-hidden="true">&times;</span>
          </button>

          <button class="btn btn-telefonica btn-default" type="button" aria-label="Buscar" tooltip="Buscar" (click)="buscar()">
            <i class="glyphicon glyphicon-search"></i>
          </button>

          <button class="btn btn-telefonica btn-default ml-1 hide" type="button" aria-label="Filtros Avançados" tooltip="Filtros Avançados">
            <i class="glyphicon glyphicon-filter"></i>
          </button>
        </span>
      </form>

    </div>

    <div class="col-sm-2 hide">
      <button class="btn btn-telefonica btn-default btn-block">
        Listar Todos
      </button>
    </div>
  </div>
</div>
<!-- end buscar -->

<div class="section-page mt-5">
  <div class="table-responsive">
    <table class="table mb-0" *ngIf="filteredSlas && filteredSlas.length">
      <thead>
        <tr>
          <th>Ativo</th>
          <th>Status</th>
          <th>Sigla</th>
          <th>Área Requisitada</th>
          <th>Complexidade</th>
          <th>Prioridade</th>
          <th>SLA (dias)</th>
          <th>Início da vigência</th>
          <th>Final da vigência</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let sla of filteredSlas; trackBy: trackById">
          <td>{{ sla?.ativo }}</td>
          <td>{{ sla?.status }}</td>
          <td>{{ sla?.siglaArea }}</td>
          <td>{{ sla?.area }}</td>
          <td>{{ sla?.complexidade }}</td>
          <td>{{ sla?.prioridade }}</td>
          <td>{{ sla?.sla }}</td>
          <td>{{ sla?.inicioDaVigencia }}</td>
          <td>{{ sla?.finalDaVigencia }}</td>
          <td>
            <a [routerLink]="['editar/', sla?.idsla]" *ngIf="sla?.status == 'novo'">
              <i class="glyphicon glyphicon-pencil"></i>
            </a>
          </td>
          <td>
            <a [routerLink]="['detalhe/', sla?.idsla]">Detalhe</a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="text-center text-danger" *ngIf="!filteredSlas.length">
      Nenhum valor encontrado.
    </div>
  </div>

</div>
<!-- end filteredSlas -->
